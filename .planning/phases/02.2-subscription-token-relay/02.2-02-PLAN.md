---
phase: 02.2-subscription-token-relay
plan: 02
type: execute
wave: 2
depends_on: [02.2-01]
files_modified:
  - docs-site/content/de/docs/configuration.md
  - docs-site/content/es/docs/configuration.md
autonomous: true
user_setup: []

must_haves:
  truths:
    - "German docs explain two-tier auth model in German"
    - "Spanish docs explain two-tier auth model in Spanish"
    - "YAML code blocks remain in English for consistency"
    - "Technical terms preserved in English (Bearer, token, API key, etc.)"
  artifacts:
    - path: "docs-site/content/de/docs/configuration.md"
      provides: "Authentication Architecture section in German"
      contains: "Zwei-Tier-Authentifizierung"
    - path: "docs-site/content/es/docs/configuration.md"
      provides: "Authentication Architecture section in Spanish"
      contains: "Arquitectura de Autenticacion"
  key_links:
    - from: "docs-site/content/de/docs/configuration.md"
      to: "docs-site/content/en/docs/configuration.md"
      via: "translation of same content"
      pattern: "allow_subscription"
---

<objective>
Translate Authentication Architecture section to German and Spanish

Purpose: Ensure German and Spanish speaking users understand the two-tier authentication model and subscription token limitations.

Output:
1. German configuration.md with translated "Authentication Architecture" section
2. Spanish configuration.md with translated "Authentication Architecture" section
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02.2-subscription-token-relay/02.2-RESEARCH.md

# Source content (from Plan 01)
@docs-site/content/en/docs/configuration.md

# Prior translation pattern
@.planning/phases/02.1-site-docs-multi-key-pooling/02.1-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Authentication Architecture section to German configuration.md</name>
  <files>docs-site/content/de/docs/configuration.md</files>
  <action>
Translate the Authentication Architecture section from English to German. Add it BEFORE the existing "Authentifizierung" section.

Translation guidelines:
- Keep all YAML code blocks in English (only translate comments)
- Keep technical terms in English: Bearer, token, API key, x-api-key, Authorization
- Translate explanatory text, section headings, and descriptions
- Use formal German (Sie-Form)

Section heading: "### Authentifizierungsarchitektur"

Key translations:
- "Two-tier authentication model" -> "Zwei-Stufen-Authentifizierungsmodell"
- "Client-to-Proxy" -> "Client-zu-Proxy"
- "Proxy-to-Backend" -> "Proxy-zu-Backend"
- "Subscription tokens are proxy-only" -> "Subscription-Token gelten nur fur den Proxy"
- "You MUST configure provider API keys" -> "Sie MUSSEN Provider-API-Schlussel konfigurieren"
- "proxy authentication only" -> "nur Proxy-Authentifizierung"

Also update the existing subscription passthrough subsection to include the warning about API key requirement.

Verify Hugo builds after changes:
```bash
cd docs-site && hugo --minify
```
  </action>
  <verify>
1. `cd /home/omarluq/sandbox/go/cc-relay/docs-site && hugo --minify` completes without errors
2. `grep -n "Authentifizierungsarchitektur" docs-site/content/de/docs/configuration.md` shows the new section
3. `grep -n "nur Proxy-Authentifizierung" docs-site/content/de/docs/configuration.md` shows the warning
  </verify>
  <done>
- German configuration.md has "Authentifizierungsarchitektur" section
- Warning about API key requirement is translated
- Hugo builds successfully
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Authentication Architecture section to Spanish configuration.md</name>
  <files>docs-site/content/es/docs/configuration.md</files>
  <action>
Translate the Authentication Architecture section from English to Spanish. Add it BEFORE the existing "Autenticacion" section.

Translation guidelines:
- Keep all YAML code blocks in English (only translate comments)
- Keep technical terms in English: Bearer, token, API key, x-api-key, Authorization
- Translate explanatory text, section headings, and descriptions

Section heading: "### Arquitectura de Autenticacion"

Key translations:
- "Two-tier authentication model" -> "Modelo de autenticacion de dos niveles"
- "Client-to-Proxy" -> "Cliente-a-Proxy"
- "Proxy-to-Backend" -> "Proxy-a-Backend"
- "Subscription tokens are proxy-only" -> "Los tokens de suscripcion solo funcionan con el proxy"
- "You MUST configure provider API keys" -> "DEBE configurar las claves API del proveedor"
- "proxy authentication only" -> "solo autenticacion del proxy"

Also update the existing subscription passthrough subsection to include the warning about API key requirement.

Verify Hugo builds after changes:
```bash
cd docs-site && hugo --minify
```
  </action>
  <verify>
1. `cd /home/omarluq/sandbox/go/cc-relay/docs-site && hugo --minify` completes without errors
2. `grep -n "Arquitectura de Autenticacion" docs-site/content/es/docs/configuration.md` shows the new section
3. `grep -n "solo autenticacion del proxy" docs-site/content/es/docs/configuration.md` shows the warning
  </verify>
  <done>
- Spanish configuration.md has "Arquitectura de Autenticacion" section
- Warning about API key requirement is translated
- Hugo builds successfully
  </done>
</task>

</tasks>

<verification>
1. Hugo site builds without errors: `cd docs-site && hugo --minify`
2. German section exists: `grep "Authentifizierungsarchitektur" docs-site/content/de/docs/configuration.md`
3. Spanish section exists: `grep "Arquitectura de Autenticacion" docs-site/content/es/docs/configuration.md`
4. YAML blocks are in English: `grep "allow_subscription:" docs-site/content/de/docs/configuration.md`
</verification>

<success_criteria>
1. German configuration.md has translated "Authentication Architecture" section
2. Spanish configuration.md has translated "Authentication Architecture" section
3. All YAML code blocks remain in English
4. Hugo builds successfully
</success_criteria>

<output>
After completion, create `.planning/phases/02.2-subscription-token-relay/02.2-02-SUMMARY.md`
</output>
