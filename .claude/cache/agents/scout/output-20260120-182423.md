# Codebase Report: Claude Code Tools in cc-relay
Generated: 2026-01-20 18:24:23

## Summary

The cc-relay repository contains a comprehensive Claude Code development tooling system in `.claude/`. This includes development skills, specialized agents, slash commands, git hooks automation, and a "Get Shit Done" (GSD) workflow system. The tools are designed to enforce code quality, automate common tasks, and provide clear guidance for development.

## Project Structure

```
.claude/
├── INDEX.md                      # Master index - start here
├── CLAUDE.md                     # Project overview (auto-loaded)
├── SKILLS_SUMMARY.md             # Quick reference for all skills
├── settings.json                 # Global settings
├── settings.local.json           # Local overrides
│
├── skills/                       # 9 development skills
│   ├── auto-fix-code.md         ⭐ Essential - auto-fix workflow
│   ├── fix-lint-errors.md       ⭐ Critical - fix code, not config
│   ├── fix-test-failures.md     ⭐ Critical - fix code/tests
│   ├── fix-format-issues.md     ⭐ Critical - use formatters
│   ├── task-runner.md           # Using go-task
│   ├── git-hooks.md             # Lefthook automation
│   ├── live-reload.md           # Air development
│   ├── go-linting.md            # golangci-lint deep dive
│   └── testing.md               # Testing guide
│
├── commands/                     # Slash commands
│   ├── README.md                # /fmt, /lint-fix, /test, /ci, etc.
│   └── gsd/                     # GSD workflow commands (20+ files)
│
├── agents/                       # 12+ specialized agents
│   ├── README.md                # Agent overview
│   ├── gsd-planner.md           # Strategic planning
│   ├── gsd-executor.md          # Phase execution
│   ├── gsd-verifier.md          # Verification
│   ├── gsd-debugger.md          # Debugging
│   └── ...                      # 8 more GSD agents
│
├── hooks/                        # Claude Code hooks (JavaScript)
│   ├── gsd-statusline.js        # Status display
│   ├── gsd-intel-index.js       # Intelligence indexing
│   └── ...                      # 4 more hook files
│
├── get-shit-done/                # GSD workflow system
│   ├── VERSION                  # Current version
│   ├── workflows/               # 13 workflow definitions
│   ├── templates/               # Workflow templates
│   └── references/              # Reference documentation
│
├── cache/                        # Runtime cache
│   └── agents/                  # Agent output storage
│
├── tsc-cache/                    # TypeScript compilation cache
└── docs/                         # Additional documentation
```

## Tools Discovered

### 1. Development Skills Library (9 skills)

**Critical Skills (Read First):**

| Skill | Purpose | File |
|-------|---------|------|
| **auto-fix-code** | Automated code fixing workflow | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/auto-fix-code.md` |
| **fix-lint-errors** | Fix code when linters fail (NOT config) | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-lint-errors.md` |
| **fix-test-failures** | Fix code/tests when tests fail | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-test-failures.md` |
| **fix-format-issues** | Use formatters to fix code | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-format-issues.md` |

**Development Skills:**

| Skill | Purpose | File |
|-------|---------|------|
| **task-runner** | Using go-task for development | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/task-runner.md` |
| **git-hooks** | Lefthook automation and commit workflow | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/git-hooks.md` |
| **live-reload** | Air live reload development | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/live-reload.md` |
| **go-linting** | Deep dive on golangci-lint | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/go-linting.md` |
| **testing** | Testing guide for Go | `/home/omarluq/sandbox/go/cc-relay/.claude/skills/testing.md` |

### 2. Specialized Agents (12+ agents)

**Project-Specific Agents:**

| Agent | Purpose | Location |
|-------|---------|----------|
| **go-code-fixer** | Fix Go lint/test errors | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |
| **test-debugger** | Debug failing tests | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |
| **code-formatter** | Auto-format all code | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |
| **security-auditor** | Fix security issues | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |
| **proto-generator** | Proto/gRPC generation | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |

**GSD Workflow Agents:**

| Agent | Purpose | File |
|-------|---------|------|
| **gsd-planner** | Strategic planning (42KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-planner.md` |
| **gsd-executor** | Phase execution (21KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-executor.md` |
| **gsd-verifier** | Verification (21KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-verifier.md` |
| **gsd-debugger** | Debugging (35KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-debugger.md` |
| **gsd-roadmapper** | Roadmap creation (15KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-roadmapper.md` |
| **gsd-project-researcher** | Project research (21KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-project-researcher.md` |
| **gsd-phase-researcher** | Phase research (17KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-phase-researcher.md` |
| **gsd-plan-checker** | Plan validation (19KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-plan-checker.md` |
| **gsd-integration-checker** | Integration checks (12KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-integration-checker.md` |
| **gsd-codebase-mapper** | Codebase mapping (14KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-codebase-mapper.md` |
| **gsd-entity-generator** | Entity generation (8KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-entity-generator.md` |
| **gsd-research-synthesizer** | Research synthesis (7KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/gsd-research-synthesizer.md` |

### 3. Slash Commands

**Format & Quality:**
- `/fmt` - Auto-format all code
- `/lint` - Run all linters
- `/lint-fix` - Run linters with auto-fix
- `/pre-commit` - Quick pre-commit checks
- `/ci` - Full CI checks locally

**Testing:**
- `/test` - Run all tests
- `/test-short` - Quick test feedback
- `/test-coverage` - Tests with coverage report

**Build & Development:**
- `/build` - Build binary
- `/dev` - Start live reload
- `/clean` - Clean artifacts

**Specialized:**
- `/proto` - Generate from proto files
- `/proto-lint` - Lint proto files
- `/security` - Security scans
- `/setup` - Setup development environment

### 4. Get Shit Done (GSD) Workflow System

**Workflows Available:**

| Workflow | Purpose | File |
|----------|---------|------|
| **execute-plan** | Execute full project plan (60KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/execute-plan.md` |
| **execute-phase** | Execute single phase (16KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/execute-phase.md` |
| **verify-phase** | Verify phase completion (17KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/verify-phase.md` |
| **verify-work** | Verify work quality (15KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/verify-work.md` |
| **complete-milestone** | Complete milestone (18KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/complete-milestone.md` |
| **discovery-phase** | Initial discovery (8KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/discovery-phase.md` |
| **discuss-phase** | Phase discussion (13KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/discuss-phase.md` |
| **diagnose-issues** | Issue diagnosis (7KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/diagnose-issues.md` |
| **map-codebase** | Codebase mapping (8KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/map-codebase.md` |
| **resume-project** | Resume project work (9KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/resume-project.md` |
| **transition** | Phase transitions (12KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/transition.md` |
| **list-phase-assumptions** | List assumptions (4KB) | `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/list-phase-assumptions.md` |

**GSD Commands Available:**
- 20+ commands in `.claude/commands/gsd/` including:
  - `add-phase.md`, `remove-phase.md`, `insert-phase.md`
  - `add-todo.md`, `check-todos.md`
  - `new-milestone.md`, `complete-milestone.md`
  - `execute-phase.md`, `verify-phase.md`
  - `research-phase.md`, `query-intel.md`
  - `settings.md`, `update.md`, `help.md`, `debug.md`
  - `whats-new.md`, `quick.md`, `resume-work.md`
  - `set-profile.md`

### 5. Hooks System

**Available Hooks:**

| Hook | Purpose | File |
|------|---------|------|
| **gsd-statusline.js** | Display GSD status | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/gsd-statusline.js` |
| **statusline.js** | Generic status display | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/statusline.js` |
| **gsd-intel-index.js** | Intelligence indexing (1.3MB) | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/gsd-intel-index.js` |
| **gsd-intel-session.js** | Session intelligence | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/gsd-intel-session.js` |
| **gsd-intel-prune.js** | Prune intelligence cache | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/gsd-intel-prune.js` |
| **gsd-check-update.js** | Check for updates | `/home/omarluq/sandbox/go/cc-relay/.claude/hooks/gsd-check-update.js` |

## Key Documentation

### Entry Points

1. **Start Here:** `/home/omarluq/sandbox/go/cc-relay/.claude/INDEX.md`
   - Master index of all tools
   - Quick links to all skills
   - Development workflow overview

2. **Project Overview:** `/home/omarluq/sandbox/go/cc-relay/.claude/CLAUDE.md`
   - Auto-loaded by Claude Code
   - Project architecture
   - Development commands
   - API compatibility details

3. **Skills Summary:** `/home/omarluq/sandbox/go/cc-relay/.claude/SKILLS_SUMMARY.md`
   - Quick reference for all skills
   - Core principles
   - Common workflows

### Workflow Documentation

Located at project root:
- `DEVELOPMENT.md` - Complete development workflow
- `QUICK_REFERENCE.md` - Command cheat sheet
- `SETUP_SUMMARY.md` - Tool installation summary
- `SPEC.md` - Project specification
- `README.md` - Project README

## Core Principles

### Golden Rule: Fix Code, Not Config

When tools fail:

❌ **NEVER:**
- Edit `.golangci.yml` to disable linters
- Edit `lefthook.yml` to skip hooks
- Edit formatter configs to allow bad code
- Skip or disable tests
- Modify test infrastructure

✅ **ALWAYS:**
- Fix the actual source code
- Use auto-fix tools first (`task fmt`, `task lint-fix`)
- Understand the error before fixing
- Verify fixes work (`task ci`)

### Auto-Fix First Workflow

```bash
# 1. Auto-format
task fmt

# 2. Auto-fix lint issues
task lint-fix

# 3. Check what remains
task lint
task test

# 4. Fix remaining issues manually

# 5. Verify everything
task ci
```

## Recommended Usage for cc-relay

### 1. Daily Development Workflow

```bash
# Start development
task dev

# Make changes
# ... edit code ...

# Before committing
task fmt          # Auto-format
task lint-fix     # Auto-fix lint issues
task test-short   # Quick tests

# Full verification
task ci

# Commit (hooks run automatically)
git commit -m "feat: description"
```

### 2. When Linters Fail

1. Read `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-lint-errors.md`
2. Understand the error
3. Run `task lint-fix` for auto-fix
4. Fix remaining issues manually
5. Verify with `task lint`

### 3. When Tests Fail

1. Read `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-test-failures.md`
2. Run with verbose: `go test -v`
3. Understand the failure
4. Fix the code or test
5. Verify all tests pass

### 4. Using Specialized Agents

**For Go code issues:**
```
Use the go-code-fixer agent to fix lint errors
```

**For test debugging:**
```
Use the test-debugger agent to debug failing tests
```

**For formatting:**
```
Use the code-formatter agent to auto-format all code
```

### 5. Using GSD Workflows

The GSD system provides comprehensive project management workflows:

**Starting a new phase:**
```
/gsd execute-phase
```

**Verifying work:**
```
/gsd verify-phase
```

**Debugging issues:**
```
/gsd diagnose-issues
```

## Tool Integration

### Installed Development Tools

All tools installed via `scripts/setup-tools.sh`:

**Go Tools:**
- `gofmt`, `goimports`, `gofumpt` - Formatters
- `golangci-lint` - Meta-linter (40+ linters)
- `go vet` - Static analyzer
- `govulncheck` - Vulnerability scanner
- `gosec` - Security linter

**Other Tools:**
- `task` - Task runner (replaces make)
- `lefthook` - Git hooks manager
- `air` - Live reload
- `buf` - Proto tools
- `yamlfmt`, `yamllint` - YAML tools
- `markdownlint-cli` - Markdown linter

### Configuration Files (DO NOT EDIT)

When tools fail, fix code, not these:
- `.golangci.yml` - Linting rules
- `lefthook.yml` - Git hooks
- `.yamlfmt` - YAML formatting
- `.yamllint` - YAML linting
- `.markdownlint.json` - Markdown rules
- `.air.toml` - Live reload config
- `Taskfile.yml` - Task definitions

## Quick Reference

### Most Used Commands

```bash
task dev              # Start live reload
task fmt              # Auto-format all code
task lint-fix         # Auto-fix lint issues
task test             # Run all tests
task ci               # Full CI check
```

### Most Used Skills

1. `/home/omarluq/sandbox/go/cc-relay/.claude/skills/auto-fix-code.md` - Auto-fix workflow
2. `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-lint-errors.md` - Fix linters
3. `/home/omarluq/sandbox/go/cc-relay/.claude/skills/fix-test-failures.md` - Fix tests

### Most Used Agents

1. `go-code-fixer` - Fix Go code issues
2. `test-debugger` - Debug test failures
3. `code-formatter` - Auto-format code

## Learning Path

### For New Sessions

1. Read `/home/omarluq/sandbox/go/cc-relay/.claude/INDEX.md`
2. Read critical skills:
   - `auto-fix-code.md`
   - `fix-lint-errors.md`
   - `fix-test-failures.md`
3. Bookmark `/home/omarluq/sandbox/go/cc-relay/.claude/commands/README.md` for quick reference

### For Specific Tasks

- **Building/Testing** → Read `task-runner.md`
- **Fixing linters** → Read `fix-lint-errors.md`
- **Debugging tests** → Read `fix-test-failures.md`
- **Development** → Read `live-reload.md`
- **Git workflow** → Read `git-hooks.md`
- **Understanding linters** → Read `go-linting.md`

## Recommendations for cc-relay Project

### 1. Leverage Auto-Fix Heavily

The project has comprehensive auto-fix capabilities:
- `task fmt` fixes 100% of formatting issues
- `task lint-fix` fixes ~80% of lint issues
- Pre-commit hooks auto-fix on commit

**Recommendation:** Always run auto-fix before manual intervention.

### 2. Use Skills as Reference

The skills library provides detailed guidance for every common scenario:
- Lint errors → Read fix-lint-errors.md
- Test failures → Read fix-test-failures.md
- Format issues → Read fix-format-issues.md

**Recommendation:** Consult skills before making changes.

### 3. Adopt GSD Workflows for Large Features

The GSD system provides structured workflows for:
- Planning multi-phase features
- Executing complex changes
- Verifying completeness
- Managing milestones

**Recommendation:** Use GSD workflows for implementing the cc-relay phases (Phase 1-6 from SPEC.md).

### 4. Use Specialized Agents

The agents are pre-configured with appropriate skills:
- `go-code-fixer` knows how to fix Go code issues
- `test-debugger` knows how to debug tests
- `proto-generator` knows proto/gRPC workflows

**Recommendation:** Delegate specialized tasks to agents.

### 5. Trust the Tools

The configuration is production-ready:
- `.golangci.yml` has 40+ linters enabled
- `lefthook.yml` runs comprehensive checks
- All formatters are properly configured

**Recommendation:** Fix code to match tools, not vice versa.

### 6. Integrate with Development Flow

The tools are designed for rapid development:
- `task dev` provides live reload
- Pre-commit hooks catch issues early
- `task ci` mimics CI locally

**Recommendation:** Use `task dev` during active development, run `task ci` before commits.

## File Locations Summary

### Key Documentation Files

| File | Purpose | Location |
|------|---------|----------|
| Master Index | Start here | `/home/omarluq/sandbox/go/cc-relay/.claude/INDEX.md` |
| Project Guide | Auto-loaded | `/home/omarluq/sandbox/go/cc-relay/.claude/CLAUDE.md` |
| Skills Summary | Quick reference | `/home/omarluq/sandbox/go/cc-relay/.claude/SKILLS_SUMMARY.md` |
| Commands | Slash commands | `/home/omarluq/sandbox/go/cc-relay/.claude/commands/README.md` |
| Agents | Specialized agents | `/home/omarluq/sandbox/go/cc-relay/.claude/agents/README.md` |

### Skills Files

All in `/home/omarluq/sandbox/go/cc-relay/.claude/skills/`:
- `auto-fix-code.md` (7.6KB)
- `fix-lint-errors.md` (3.9KB)
- `fix-test-failures.md` (5.7KB)
- `fix-format-issues.md` (5.0KB)
- `task-runner.md` (2.2KB)
- `git-hooks.md` (2.7KB)
- `live-reload.md` (3.5KB)
- `go-linting.md` (3.5KB)
- `testing.md` (5.4KB)

### Agent Files

All in `/home/omarluq/sandbox/go/cc-relay/.claude/agents/`:
- `gsd-planner.md` (42KB)
- `gsd-executor.md` (21KB)
- `gsd-verifier.md` (21KB)
- `gsd-debugger.md` (35KB)
- Plus 8 more GSD agents

### Workflow Files

All in `/home/omarluq/sandbox/go/cc-relay/.claude/get-shit-done/workflows/`:
- 13 workflow definition files
- Largest: `execute-plan.md` (60KB)
- Smallest: `list-phase-assumptions.md` (4KB)

---

**Generated by Scout Agent**
**Report saved to:** `/home/omarluq/sandbox/go/cc-relay/.claude/cache/agents/scout/output-20260120-182423.md`
